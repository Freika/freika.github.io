---
layout: post
title: Создание дочернего экземпляра модели в момент создания родительского
---


Все просто, но я почему-то долго не мог сообразить.

~~~ ruby
 # app/models/user.rb
  after_create :create_profile

  private

  def create_profile
    Profile.create(user_id: self.id)
  end
~~~

Все это в модели User в моем случае. Сразу после регистрации пользователя для него создается Профиль.

Надо такими вещам с утра заниматься, а не на ночь, тогда и меньше таких косяков будет =/
